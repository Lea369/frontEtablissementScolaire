<app-navbar-etudiant></app-navbar-etudiant>

<div class="container">
    <h2>Modifier un étudiant :</h2>
    <h5>ID : {{etudiant.identifiant}}</h5>

    <form [formGroup]="formulaireModif" (ngSubmit)="update()">
    <div class="formGroup">
        <h5><label for="name">Prénom* :</label> [{{this.etudiant.name}}]</h5>
        <input type="text" class="form-control" [(ngModel)]="this.etudiant.name" formControlName="name" name="name" required>
        <h5><label for="surname">Nom* :</label> [{{this.etudiant.surname}}]</h5>
        <input type="text" class="form-control" [(ngModel)]="this.etudiant.surname" formControlName="surname" name="surname" required>
        <h5><label for="mail">Email* :</label> [{{this.etudiant.mail}}]</h5>
        <input type="email" class="form-control" [(ngModel)]="this.etudiant.mail" formControlName="mail" name="mail" required>
        <h5><label for="identity">CNI* :</label> [{{this.etudiant.identity}}]</h5>
        <input type="number" class="form-control" [(ngModel)]="this.etudiant.identity" formControlName="identity" name="identity" pattern=".{6,}" required>
        <h5><label for="phone">Téléphone* : (+33) </label> [{{this.etudiant.phone}}]</h5>
        <input type="number" class="form-control" [(ngModel)]="this.etudiant.phone" formControlName="phone" name="phone" pattern=".{9,}" required>
        <h5><label for="adress">Adresse : </label> [{{this.etudiant.adress}}]</h5>
        <input type="text" class="form-control" [(ngModel)]="this.etudiant.adress" formControlName="adress" name="adress">
        <h5><label for="postalCode">Code Postal : </label> [{{this.etudiant.postalCode}}]</h5>
        <input type="number" class="form-control" [(ngModel)]="this.etudiant.postalCode" formControlName="postalCode" name="postalCode">
        <h5><label for="city">Ville : </label> [{{this.etudiant.city}}]</h5>
        <input type="text" class="form-control" [(ngModel)]="this.etudiant.city" formControlName="city" name="city">
        <h5><label for="s">Sexe* :</label> [{{this.etudiant.s}}] </h5>
        <select class="form-control" [(ngModel)]="this.etudiant.s" formControlName="s" name="s">
            <option>F</option>
            <option>M</option>
            <option>A</option>
        </select>
        <div *ngIf="!emptyListe">
        <h5><label for="classe">Classe : </label> <span *ngIf="this.etudiant.classe">[{{this.etudiant.classe.name}}]</span><span *ngIf="this.etudiant.classe == null"> [Aucune]</span></h5>
        <select class="form-control" [(ngModel)]="this.etudiant.classe" formControlName="classe" name="classe">
            <option *ngFor="let c of this.allClasses" [ngValue]="c">{{c.name}}</option>
            <option [ngValue]=null>Aucune classe</option>
        </select>
        </div>
        <br><br>
            <button type="submit" class="btn btn-info" [disabled]="!this.formulaireModif.valid">Modifier</button>
        <br><br>
        <span *ngIf="this.messageSucces.length">
            <span class="alert alert-success">{{this.messageSucces}}</span>
        </span>
        <span *ngIf="this.messageEchec.length">
            <span class="alert alert-danger">{{this.messageEchec}}</span>
        </span>
        <br><br>
    </div>
    </form>
    <br><br>
    <button class="btn btn-info" (click)="retour()">Retour</button>
    <br><br>
</div>